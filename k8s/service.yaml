# ====================================================================================
# KUBERNETES SERVICE - Exposes the Consumer App
# ====================================================================================
# A Service provides a stable network endpoint to access your pods.
# For Phase 1, this is mainly used for health checks.
#
# This creates a ClusterIP service (internal to the cluster).
# You can access it via: kubectl port-forward service/eventhub-consumer 8080:80
# ====================================================================================

apiVersion: v1
kind: Service
metadata:
  name: eventhub-consumer
  namespace: default
  labels:
    app: eventhub-consumer
spec:
  # ====================================================================================
  # SERVICE TYPE: ClusterIP (internal only, not exposed to the internet)
  # ====================================================================================
  type: ClusterIP
  
  selector:
    app: eventhub-consumer
  
  ports:
  - name: http
    port: 80          # Service port (what you connect to)
    targetPort: 8080  # Container port (where the app listens)
    protocol: TCP
